<div class="blog-content-box">
    <div class="article-header-box">
        <div class="article-header">
            <div class="article-title-box">
              <h1 class="title-article" id="articleContentId">Android基础教程（非常详细）从零基础入门到精通，看完这一篇就够了</h1>
            </div>
            <div class="article-info-box">
                <div class="article-bar-top-box">
                  <div class="article-bar-top">
                      <img class="article-type-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/original.png" alt="">
                      <div class="bar-content">
                        <a class="follow-nickName " href="https://blog.csdn.net/Libra1313" target="_blank" rel="noopener" title="黑客大白">黑客大白</a>
                      <img class="article-time-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newCurrentTime2.png" alt="">
                          <span class="time">于&nbsp;2025-07-24 17:07:23&nbsp;发布</span>
                    <div class="read-count-box">
                        <img class="article-read-img article-heard-img" src="https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes2.png" alt="">
                        <span class="read-count">阅读量1.6k</span>
                        <a id="blog_detail_zk_collection" class="un-collection" data-report-click="{&quot;mod&quot;:&quot;popu_823&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4232&quot;,&quot;ab&quot;:&quot;new&quot;}">
                            <img class="article-collect-img article-heard-img un-collect-status isdefault" style="display:inline-block" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect2.png" alt="">
                            <img class="article-collect-img article-heard-img collect-status isactive" style="display:none" src="https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollectionActive2.png" alt="">
                            <span class="name">收藏</span>
                            <span class="get-collection">
                                23
                            </span>
                        </a>
                        <div class="read-count-box is-like" data-type="top">
                          <img class="article-read-img article-heard-img" style="display:none" id="is-like-imgactive-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Active.png" alt="">
                          <img class="article-read-img article-heard-img" style="display:block" id="is-like-img-new" src="https://csdnimg.cn/release/blogv2/dist/pc/img/newHeart2023Black.png" alt="">
                          <span class="read-count" id="blog-digg-num">点赞数
                              10
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                 <div class="operating">
                    <a class="href-article-edit slide-toggle">CC 4.0 BY-SA版权</a>
                </div>
                </div>
                <div class="blog-tags-box">
                    <div class="tags-box artic-tag-box">
                            <span class="label">文章标签：</span>
                                <a rel="nofollow" data-report-query="spm=1001.2101.3001.4223" data-report-click="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;android&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;android\&quot;}&quot;}" class="tag-link" href="https://so.csdn.net/so/search/s.do?q=android&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">android</a>
                                <a rel="nofollow" data-report-query="spm=1001.2101.3001.4223" data-report-click="{&quot;mod&quot;:&quot;popu_626&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4223&quot;,&quot;strategy&quot;:&quot;jvm&quot;,&quot;ab&quot;:&quot;new&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;jvm\&quot;}&quot;}" class="tag-link" href="https://so.csdn.net/so/search/s.do?q=jvm&amp;t=all&amp;o=vip&amp;s=&amp;l=&amp;f=&amp;viparticle=&amp;from_tracking_code=tag_word&amp;from_code=app_blog_art" target="_blank">jvm</a>
                    </div>
                </div>
                <div class="slide-content-box">
                    <div class="article-copyright">
                        <div class="creativecommons">
                            版权声明：本文为博主原创文章，遵循<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接和本声明。
                        </div>
                        <div class="article-source-link">
                            本文链接：<a href="https://blog.csdn.net/Libra1313/article/details/149609789" target="_blank">https://blog.csdn.net/Libra1313/article/details/149609789</a>
                        </div>
                    </div>
                </div>
                
               
            </div>
        </div>

    </div>
    

    <article class="baidu_pl">
        <div id="article_content" class="article_content clearfix">
        <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/kdoc_html_views-1a98987dfd.css">
        <link rel="stylesheet" href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/ck_htmledit_views-10bf609291.css">
                <div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320_2"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a>文章目录</h6> 
<ul><li>一、开发环境搭建</li><li>二、简单控件</li><li> 
  <ul><li>1. 文本显示</li><li>2. 按钮</li><li>3. 常用布局</li><li> 
    <ul><li>（1）线性布局LinearLayout</li><li>（3）相对布局RelativeLayout</li><li>（3）网格布局GridLayout</li></ul> </li><li>4. 图像显示</li><li> 
    <ul><li>（1）图像的缩放问题：</li><li>（2）图像按钮ImageButton：</li></ul> </li></ul> </li><li>三、Activity</li><li> 
  <ul><li>1. Activity的启动和结束</li><li>2. Activity的生命周期</li><li>3. Activity的启动模式</li><li> 
    <ul><li>（1）静态设置</li><li>（2）动态设置</li></ul> </li><li>4. Activity之间传递信息</li><li> 
    <ul><li>（1）显式Intent和隐式Intent</li><li> 
      <ul><li>1. 显式Intent</li><li>2. 隐式Intent：</li></ul> </li><li>（2）向下一个Activity发送消息：</li><li>（3）向上一个Activity返回消息：</li></ul> </li><li>5. Activity获取一些附加信息</li><li> 
    <ul><li>（1）获取资源信息：</li><li>（2）获取元数据信息：</li></ul> </li></ul> </li><li>四、数据存储</li><li> 
  <ul><li>1. 共享参数SharedPreferences</li><li> 
    <ul><li>（1）使用：</li><li>（2）应用实例：记住密码功能</li></ul> </li><li>2. 数据库SQLite</li><li> 
    <ul><li>（1）SQLiteDatabase</li><li>（2）SQLiteOpenHelper</li><li>（3）代码举例：</li><li>（4）优化记住密码：</li></ul> </li><li>3. 存储卡</li><li> 
    <ul><li>（1）私有空间和公有空间</li><li>（2）在存储卡上读写文件</li><li>（3）在存储卡上读写 图片文件</li></ul> </li><li>4. 应用组件Application</li><li>5. 实战：购物车</li></ul> </li><li>五、内容共享</li><li> 
  <ul><li>1. 在应用之间共享数据</li><li>2. 使用内容组件获取通讯信息</li><li> 
    <ul><li>（1）运行时动态申请权限</li><li>（2）使用ContentResolver读写联系人</li><li>（3）使用ContentObserver监听短信</li></ul> </li><li>3. 在应用之间共享文件</li><li> 
    <ul><li>（1）使用相册图片发送彩信</li><li>（2）借助FileProvider发送彩信</li><li>（3）借助FileProvider安装应用</li></ul> </li></ul> </li></ul> 
<h4><a name="t0"></a><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase_56"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>一、开发环境搭建</h4> 
<ol><li>安装android studio</li><li>安装 sdk（当前使用最新版33）</li></ol> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/9acf92fe3841602a6f43dc37edd1961d.png" alt="image-20230105224008976"></p> 
<ol start="3"><li> <p>手动下载<span class="words-blog hl-git-1" data-tit="gradle" data-pretit="gradle">gradle</span></p> <p><strong>（更新：弄完之后有时候没用，可以再试试挂梯子，换网络之类的）</strong></p> <p>如果第一次启动AndroidStudio没有报错则无需设置，这里是因为我启动完之后下载gradle报错：</p> <pre data-index="0" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">could not install gradle distribution from 'https://services.gradle.org/dist



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:0,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> <p>可能是网络问题连接不到，所以手动下载。</p> <p>点击上面提示的链接下载压缩包，然后解压到<code>C:\Users\OYMN\.gradle\wrapper\dists\gradle-7.2-bin\2dnblmf4td7x66yl1d74lt32g</code></p> <p><img src="https://i-blog.csdnimg.cn/blog_migrate/ea3932dcf07a4082ccdd8cb58fb80892.png" alt="image-20230105234019833"></p> </li><li> <p>安装模拟器</p> <p>使用androidstudio提供的模拟器，或者自行下载第三方<a href="https://so.csdn.net/so/search?q=%E5%AE%89%E5%8D%93%E6%A8%A1%E6%8B%9F%E5%99%A8&amp;spm=1001.2101.3001.7020" target="_blank" class="hl hl-1" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.7020&quot;,&quot;dest&quot;:&quot;https://so.csdn.net/so/search?q=%E5%AE%89%E5%8D%93%E6%A8%A1%E6%8B%9F%E5%99%A8&amp;spm=1001.2101.3001.7020&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;安卓模拟器\&quot;}&quot;}" data-tit="安卓模拟器" data-pretit="安卓模拟器">安卓模拟器</a>（雷电模拟器）</p> </li></ol> 
<h4><a name="t1"></a><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase_87"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>二、简单控件</h4> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1__89"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>1. 文本显示</h5> 
<p>设置文本内容有两种方式：</p> 
<ul><li>在 XML 文件中通过属性 android:text 设置文本</li><li>在 Java 代码中调用文本视图对象的 setText 方法设置文本</li></ul> 
<p>引用字符串资源：</p> 
<ul><li>在XML文件中引用（@string/xxx）</li><li>在Java代码中引用（R.string.xxx）</li></ul> 
<p>其余设置文本字体大小，颜色等都是可以通过关键词+代码提示很容易就能知道怎么写，这里就不赘述。</p> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2__103"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>2. 按钮</h5> 
<p>Button继承于TextView，因此它们拥有的属性都是共通的。</p> 
<p>除此之外，Button最重要的是点击事件。</p> 
<ul><li> <p>点击监听器：通过setOnClickListener方法设置。按钮被按住少于500毫秒时，会触发点击事件。</p> </li><li> <p>长按监听器：通过setOnLongClickListener方法设置。按钮被按住超过500毫秒时，会触发长按事件。</p> </li></ul> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3__114"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>3. 常用布局</h5> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1LinearLayout_116"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）线性布局LinearLayout</h6> 
<p>特点：要不水平排列，要不竖直排列，通过orintation进行设置（horiztal为水平，vertical为竖直）</p> 
<p>权重属性：通过layout_weight来设置，在线性布局的直接下级进行设置，表示该下级布局占据的宽高比例。</p> 
<ul><li>layout_width填0dp时，layout_weight表示水平方向的宽度比例。</li><li>layout_height填0dp时，layout_weight表示垂直方向的高度比例。</li></ul> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3RelativeLayout_125"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（3）相对布局RelativeLayout</h6> 
<p>相对布局中的视图位置由两个因素所影响：</p> 
<ul><li>与该视图平级的其他视图</li><li>上级视图（也就是它归属的RelativeLayout）</li></ul> 
<p>相对位置的一些取值：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/2fdd3ce172ae4336326c92c216ef5bb6.png" alt="image-20230107003412969"></p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3GridLayout_136"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（3）网格布局GridLayout</h6> 
<p>顾名思义该布局适用于表格类型的布局。</p> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase4__140"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>4. 图像显示</h5> 
<p>图片一般放在res/drawable目录下，设置图像显示一般有两种方法：</p> 
<ul><li>在XML文件中，通过属性android:src设置图片资源，属性值格式形如 @drawable/不含扩展名的图片名称。</li><li>在Java代码中，调用setImageResource方法设置图片资源，方法参数格式形如 R.drawable.不含扩展名的图片名称。</li></ul> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_147"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）图像的缩放问题：</h6> 
<p>ImageView本身默认图片居中显示，若要改变图片的显示方式，可通过scaleType属性设定，该属性的取值说明如下：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/b025c09136f10f54e632c164dd586334.png" alt="image-20230107004159846"></p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2ImageButton_153"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）图像按钮ImageButton：</h6> 
<p>ImageButton是显示图片的图像按钮，但它继承自ImageView，而非继承Button。</p> 
<p>ImageButton和Button之间的区别有：</p> 
<ul><li>Button既可显示文本也可显示图片，ImageButton只能显示图片不能显示文本。</li><li>ImageButton上的图像可按比例缩放，而Button通过背景设置的图像会拉伸变形。</li><li>Button只能靠背景显示一张图片，而ImageButton可分别在前景和背景显示图片，从而实现两张图片叠加的效果。</li></ul> 
<h4><a name="t2"></a><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecaseActivity_163"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>三、Activity</h4> 
<p>Activity是安卓开发四大组件之一，非常重要。</p> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_Activity_167"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>1. Activity的启动和结束</h5> 
<p>Activity的启动这里指的是跳转，从一个页面跳转到一个新的页面，就相当于启动了一个新的页面。</p> 
<p>示例：</p> 
<pre data-index="1" class="new-version set-code-height prettyprint set-code-show" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">bt.setOnClickListener(new View.OnClickListener(){

    @Override
    public void onClick(View v) {
        Intent intent = new Intent();
        intent.setClass(MainActivity.this, MainActivity2.class);
        startActivity(intent);
    }
});



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:1,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li></ul></pre> 
<p>结束Activity：调用 <code>finish()</code>。</p> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2_Activity_190"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>2. Activity的生命周期</h5> 
<p><strong>onCreate</strong>：此时将页面布局加载到内存中，初始化页面。</p> 
<p><strong>onStart</strong>：将页面展示在屏幕。</p> 
<p><strong>onResume</strong>：此时页面能够和用户进行交互。</p> 
<p><strong>onPause</strong>：页面进入暂停状态，无法和用户进行交互。</p> 
<p><strong>onStop</strong>：页面不在屏幕显示。</p> 
<p><strong>onDestory</strong>：回收Activity占用的资源，彻底销毁该Activity。</p> 
<p><strong>onRestart</strong>：onStop状态可以转为onRestart状态。</p> 
<p><strong>onNewIntent</strong>：重用已存在的活动实例。如果一个Activity已经启动了，并且存在与当前栈，而当前栈的启动模式为SingleTask，SingleInstance，SingleTop（此时在任务栈顶端），那么再次启动该Activity的话，并不会重新进行onCreate，而是会执行onNewIntent方法。</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/d975694a31eee6e205ded44af67d464b.png" alt="image-20230108223537951"></p> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3_Activity_210"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>3. Activity的启动模式</h5> 
<p>Android允许在创建Activity时设置启动模式，通过启动模式控制Activity的出入栈行为。</p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_214"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）静态设置</h6> 
<p>设置方式：打开AndroidManifest.xml文件，给activity添加属性android:launchMode。如以下表示该activity使用standard标准模式，默认也是标准模式。</p> 
<pre data-index="2" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">&lt;activity android:name=".JumpFirstActivity" android:launchMode="standard" /&gt;



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:2,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
<p>launchMode的取值有：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/d22c70e001e7295fafb5e89905785501.png" alt="image-20230109161545002"></p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/1df8991eb0d09f94a5313eb176e6d9d1.png" alt="image-20230109161736927"></p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/81716d16b983f2eae52056de1af6c678.png" alt="image-20230109161750015"></p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/45b9a7ed50a35bd5ee949ef3a30bf112.png" alt="image-20230109161845199"></p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/2d73ac44fd70f66d2ff642aa5e9be4ff.png" alt="image-20230109161930718"></p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2_237"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）动态设置</h6> 
<p>通过 Intent 动态设置 Activity启动模式：</p> 
<pre data-index="3" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">intent.setFlags();



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:3,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase4_Activity_248"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>4. Activity之间传递信息</h5> 
<p>Intent能够让Android各组件之间进行沟通。</p> 
<p>Intent可以完成3部分工作：</p> 
<ul><li>表明本次通信从哪里来，往哪里走，要怎么走。</li><li>发送方可以携带消息给接收方，接收方可以从收到的Intent解析数据。</li><li>发送方如果想要知道接收方的处理结果，接收方也可以通过Intent返回结果。</li></ul> 
<p>Intent的一些组成元素：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/fc191c3aa07c9a28fab4015b7f372180.png" alt="image-20230109163305363"></p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1IntentIntent_262"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）显式Intent和隐式Intent</h6> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_Intent_264"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>1. 显式Intent</h6> 
<p>创建方式：</p> 
<ul><li> <p>在Intent的构造函数中指定：</p> <pre data-index="4" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Intent intent = new Intent(this, NextActivity.class);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:4,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> </li><li> <p>调用setClass指定：</p> <pre data-index="5" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Intent intent = new Intent();
intent.setClass(this, NextActivity.class);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:5,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li></ul></pre> </li><li> <p>调用setComponent指定：</p> <pre data-index="6" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Intent intent = new Intent();
ComponentName component = new ComponentName(this, NextActivity.class);
intent.setComponent(component);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:6,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre> </li></ul> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2_Intent_299"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>2. 隐式Intent：</h6> 
<p>没有明确指定所要跳转的页面，而是通过一些动作字符串来让系统自动匹配。</p> 
<p>通常是App不想向外暴露Activity的名称，只给出一些定义好的字符串。这些字符串可以自己定义，也有系统定义的。</p> 
<p>常见的系统动作如下：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/5c56bbb44f9f792c1c1d91ddf0f80c42.png" alt="image-20230109224228884"></p> 
<p>下面以调用系统拨号页面举例：</p> 
<pre data-index="7" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">String phone = "12345";
Intent intent = new Intent();
//这里表示设置意图动作为准备拨号
intent.setAction(Intent.ACTION_DIAL);
intent.setData(Uri.parse("tel:" + phone));
startActivity(intent);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:7,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li></ul></pre> 
<p>如果想要跳转到自己定义的activity：</p> 
<p>步骤一：在AndroidManifest.xml找到该activity，添加action和category标签，同时设置exported为true，表示允许被其他activity调用。</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/15539ec281ced87b0d543e845b226109.png" alt="image-20230109230403488"></p> 
<p>步骤二：调用过程和上面一样：</p> 
<pre data-index="8" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Intent intent = new Intent();
intent.setAction("android.intent.action.activity2");
intent.addCategory(Intent.CATEGORY_DEFAULT);
startActivity(intent);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:8,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2Activity_341"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）向下一个Activity发送消息：</h6> 
<p>Intent重载了很多putExtra方法用于传递各种类型的信息，包括整数类型，字符串等。但是显然通过调用putExtra方法会很不好管理，因为数据都是零碎传递。所以Android引入了Bundle，其内部是一个Map，使用起来也和Map一样。</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/97af34a354d0399dc19d23659cd86fb3.png" alt="image-20230109165406124"></p> 
<p>示例：</p> 
<pre data-index="9" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Intent intent = new Intent(this, NextActivity.class);
//通过bundle包装数据
Bundle bundle = new Bundle();
bundle.putString("stringKey", "stringValue");
intent.putExtras(bundle);
startActivity(intent);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:9,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li></ul></pre> 
<p>然后下一个Activity就可以通过intent获取到所想要的数据了：</p> 
<pre data-index="10" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Bundle bundle = getIntent().getExtras();
String stringValue = bundle.getString("stringKey");



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:10,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3Activity_371"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（3）向上一个Activity返回消息：</h6> 
<p>上一个页面跳转到下一个页面，同时携带数据：</p> 
<pre data-index="11" class="new-version set-code-height prettyprint set-code-show" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">private ActivityResultLauncher&lt;Intent&gt; register;

@Override
protected void onCreate(@Nullable Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main2);

    findViewById(R.id.bt).setOnClickListener(this);

    //回调函数，返回到这个页面时所执行的程序
    register = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {
       			//回调函数
                @Override
                public void onActivityResult(ActivityResult result) {
                    if (result != null) {
                        Intent intent = result.getData();
                        if (intent != null &amp;&amp; result.getResultCode() == Activity.RESULT_OK) {
                            //获取到返回的数据
                            Bundle bundle = intent.getExtras();
                            //...
                        }
                    }
                }
            });
}

@Override
public void onClick(View v) {
    Intent intent = new Intent(this, MainActivity3.class);
    //跳转下一页面
    register.launch(intent);

}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:11,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li></ul></pre> 
<p>下一个页面接受到数据，处理之后返回结果给上一个页面：</p> 
<pre data-index="12" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Bundle bundle = getIntent().getExtras();
//...页面进行处理
//返回数据给上一个页面
Bundle bundle = new Bundle();
bundle.putString("stringKey", "stringValue");
intent.putExtras(bundle);
setResult(Activity.RESULT_OK, intent);
finish();



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:12,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase5_Activity_430"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>5. Activity获取一些附加信息</h5> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_432"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）获取资源信息：</h6> 
<pre data-index="13" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">//获取strings.xml中的字符串资源
String text = getString(R.string.text);
//获取color.xml中的颜色资源
int black = getColor(R.color.black);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:13,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2_444"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）获取元数据信息：</h6> 
<pre data-index="14" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">try {
    //获取包管理器
    PackageManager pm = getPackageManager();
    //获取当前的Activity信息
    ActivityInfo activityInfo = pm.getActivityInfo(getComponentName(), PackageManager.GET_META_DATA);
    Bundle bundle = activityInfo.metaData;
    String text2 = bundle.getString("text2");

} catch (PackageManager.NameNotFoundException e) {
    e.printStackTrace();
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:14,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li></ul></pre> 
<h4><a name="t3"></a><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase_463"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>四、数据存储</h4> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_SharedPreferences_465"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>1. 共享参数SharedPreferences</h5> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_467"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）使用：</h6> 
<p>sharedPreferences是安卓的一个轻量级存储工具，采用的方式是key-value，以xml文件形式存在，文件路径为/data/data/应用包名/shared_prefs/文件名.xml。</p> 
<p>适合场景：</p> 
<ol><li>简单且孤立的数据</li><li>文本数据，二进制数据则不合适</li><li>需要持久化的数据，也就是重启APP后数据仍然存在且有效。</li></ol> 
<p>实际开发中，sharedPreferences经常用来存储的数据有：APP的个性化配置信息，用户使用APP的行为信息等。</p> 
<p>sharedPreferences对数据的存储和读取类似Map，提供put和set方法。</p> 
<p>获取数据可以通过SharedPreferences对象获取：</p> 
<pre data-index="15" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">//第一个参数表示文件名，第二个参数表示私有模式
SharedPreferences shared = getSharedPreferences("fileName", MODE_PRIVATE);
String name = shared.getString("name");



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:15,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre> 
<p>而存储数据则还需要借助Editor类：</p> 
<pre data-index="16" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">SharedPreferences.Editor editor = shared.edit();
editor.putString("name", "oymn");
editor.putInt("age", 20);
editor.commit();



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:16,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2_504"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）应用实例：记住密码功能</h6> 
<ol><li>声明一个共享参数对象，并在onCreate中调用getSharedPreferences方法获取共享参数的实例。</li><li>登录成功时，如果用户勾选了“记住密码”，就使用共享参数保存手机号码与密码。</li></ol> 
<p>所以在<span class="words-blog hl-git-1" data-tit="登录页面" data-pretit="登录页面">登录页面</span>的onCreat方法中添加获取共享参数的代码：</p> 
<pre data-index="17" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">// 从share_login.xml获取共享参数对象
mShared = getSharedPreferences("share_login", MODE_PRIVATE);
// 获取共享参数保存的手机号码
String phone = mShared.getString("phone", "");
// 获取共享参数保存的密码
String password = mShared.getString("password", "");
et_phone.setText(phone); // 往手机号码编辑框填写上次保存的手机号
et_password.setText(password); // 往密码编辑框填写上次保存的密码



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:17,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li></ul></pre> 
<p>接着在登录成功方法中添加保存功能：</p> 
<pre data-index="18" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">// 如果勾选了“记住密码”，就把手机号码和密码都保存到共享参数中
if (isRemember) {
    SharedPreferences.Editor editor = mShared.edit(); // 获得编辑器的对象
    editor.putString("phone", et_phone.getText().toString()); // 添加名叫phone的手机号码
    editor.putString("password", et_password.getText().toString()); // 添加名叫password的密码
    editor.commit(); // 提交编辑器中的修改
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:18,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2_SQLite_540"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>2. 数据库SQLite</h5> 
<p>SQLite是安卓的一种小巧的嵌入式数据库，基本使用和思路和<span class="words-blog hl-git-1" data-tit="Mysql" data-pretit="mysql">Mysql</span>无异。</p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1SQLiteDatabase_544"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）SQLiteDatabase</h6> 
<p>java代码层面借助SQLiteDatabase来对SQLite进行操作。</p> 
<pre data-index="19" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">//创建数据库text.db
SQLiteDatabase db = openOrCreateDatabase(getFileDir() + "/test.db", Context.MODE_PRIVATE, null);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:19,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li></ul></pre> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/ea061f68be1e728521afc2b895a5f7aa.png" alt="image-20230112213636282"></p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2SQLiteOpenHelper_558"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）SQLiteOpenHelper</h6> 
<p>由于SQLiteDatabase存在局限性，一不小心就会重复打开数据库，处理数据库的升级也不方便；因此Android提供了数据库帮助器SQLiteOpenHelper，帮助开发者合理使用SQLite。</p> 
<p>SQLiteOpenHelper的具体使用步骤如下：</p> 
<ul><li>步骤一，新建一个继承自SQLiteOpenHelper的数据库操作类，按提示重写onCreate和onUpgrade两个方法。其中，onCreate方法只在第一次打开数据库时执行，在此可以创建表结构；而onUpgrade方法在数据库版本升高时执行，在此可以根据新旧版本号变更表结构。</li><li>步骤二，为保证数据库安全使用，需要封装几个必要方法，包括获取单例对象、打开数据库连接、关闭数据库连接，说明如下： 
  <ul><li>获取单例对象：确保在App运行过程中数据库只会打开一次，避免重复打开引起错误。</li><li>打开数据库连接：SQLite有锁机制，即读锁和写锁的处理；故而数据库连接也分两种，读连接可调用getReadableDatabase方法获得，写连接可调用getWritableDatabase获得。</li><li>关闭数据库连接：数据库操作完毕，调用数据库实例的close方法关闭连接。</li></ul> </li><li>步骤三， 提供对表记录增加、删除、修改、查询的操作方法。能被SQLite直接使用的数据结构是ContentValues类，它类似于映射Map，也提供了put和get方法存取键值对。 
  <ul><li>区别之处在于：ContentValues的键只能是字符串，不能是其他类型。ContentValues主要用于增加记录和更新记录，对应数据库的insert和update方法。</li><li>记录的查询操作用到了游标类Cursor，调用query和rawQuery方法返回的都是Cursor对象，若要获取全部的查询结果，则需根据游标的指示一条一条遍历结果集合。Cursor的常用方法可分为3类，说明如下：</li></ul> </li></ul> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/bb4c45adfc0227d8168d59b8f12f1769.png" alt="image-20230112214321301"></p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3_575"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（3）代码举例：</h6> 
<pre data-index="20" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class UserDBHelper extends SQLiteOpenHelper {

    private static final String DB_NAME = "user.db";   //数据库名称
    private static final int DB_VERSION = 1;   //数据库的版本号
    private static UserDBHelper helper = null;   //单例
    private SQLiteDatabase sdb = null;  //数据库实例
    public static final String TABLE_NAME = "user_info";   //表名

    public UserDBHelper(Context context) {
        super(context, DB_NAME, null, DB_VERSION);
    }

    public UserDBHelper(Context context, int version) {
        super(context, DB_NAME, null, version);
    }

    //通过单例模式获取 UserDBHelper 的唯一实例
    public static synchronized UserDBHelper getInstance(Context context, int version) {
        if (version &gt; 0 &amp;&amp; helper == null) {
            helper = new UserDBHelper(context, version);
        } else if (helper == null) {
            helper = new UserDBHelper(context);
        }

        return helper;
    }

    //打开读连接
    public SQLiteDatabase openReadLink() {
        if (sdb == null || !sdb.isOpen()) {
            sdb = helper.getReadableDatabase();
        }

        return sdb;
    }

    //打开写连接
    public SQLiteDatabase openWriteLink() {
        if (sdb == null || !sdb.isOpen()) {
            sdb = helper.getWritableDatabase();
        }

        return sdb;
    }

    //关闭数据库连接
    public void closeLink() {
        if (sdb != null &amp;&amp; sdb.isOpen()) {
            sdb.close();
            sdb = null;
        }
    }

    //创建数据库，执行建表语句
    @Override
    public void onCreate(SQLiteDatabase db) {
        //先删除已存在表
        String drop_sql = "drop table if exists " + TABLE_NAME + ";";
        db.execSQL(drop_sql);

        //创建表
        String create_sql = "CREATE TABLE IF NOT EXISTS " + TABLE_NAME + " ("
                + "_id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,"
                + "name VARCHAR NOT NULL," + "age INTEGER NOT NULL,"
                + "height INTEGER NOT NULL," + "weight FLOAT NOT NULL,"
                + "married INTEGER NOT NULL," + "update_time VARCHAR NOT NULL"
                //演示数据库升级时要先把下面这行注释
                + ",phone VARCHAR" + ",password VARCHAR"
                + ");";

        db.execSQL(create_sql);
    }

    //修改表结构
    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        if (newVersion &gt; 1) {
            //Android的ALTER命令不支持一次添加多列，只能分多次添加
            String alter_sql = "ALTER TABLE " + TABLE_NAME + " ADD COLUMN phone VARCHAR;";
            db.execSQL(alter_sql);

            alter_sql = "ALTER TABLE " + TABLE_NAME + " ADD COLUMN " + "password VARCHAR;";
            db.execSQL(alter_sql); // 执行完整的SQL语
        }
    }

    //根据指定条件删除记录
    public int delete(String condition) {
        return sdb.delete(TABLE_NAME, condition, null);
    }

    //删除全部记录
    public int deleteAll() {
        return sdb.delete(TABLE_NAME, "1=1", null);
    }

    //根据条件查询记录
    public List&lt;UserInfo&gt; query(String condition) {
        String sql = String.format("select rowid,_id,name,age,height,weight,married,update_time," +
                "phone,password from %s where %s;", TABLE_NAME, condition);
        //执行查询语句，该语句返回结果集的游标
        Cursor cursor = sdb.rawQuery(sql, null);

        ArrayList&lt;UserInfo&gt; userInfos = new ArrayList&lt;&gt;();

        //循环取出游标指向的结果集
        while (cursor.moveToNext()) {
            UserInfo userInfo = new UserInfo();
            userInfo.name = cursor.getString(2);
            userInfo.age = cursor.getInt(3);
            userInfos.add(userInfo);
        }

        cursor.close();
        return userInfos;
    }

    //往表里添加一条记录
    public long insert(UserInfo userinfo) {
        ArrayList&lt;UserInfo&gt; userInfos = new ArrayList&lt;&gt;();
        userInfos.add(userinfo);
        return insert(userInfos);
    }

    //往表里添加多条记录
    public long insert(List&lt;UserInfo&gt; userInfos) {

        long result = -1;

        for (UserInfo userInfo : userInfos) {
            //如果名字相同，则更新记录
            if (userInfo.name != null &amp;&amp; userInfo.name.length() &gt; 0) {
                String condition = String.format("name = '%s'", userInfo.name);
                List&lt;UserInfo&gt; dbUserInfoList = query(condition);
                if (dbUserInfoList != null &amp;&amp; dbUserInfoList.size() &gt; 0) {
                    update(userInfo, condition);
                    //返回其id
                    result = dbUserInfoList.get(0).id;
                    continue;
                }
            }
            //其余情况则说明记录不重复，添加新纪录
            ContentValues cv = new ContentValues();
            cv.put("name", userInfo.name);
            cv.put("age", userInfo.age);
            result = sdb.insert(TABLE_NAME, "", cv);
            if(result == -1){
                return result;
            }
        }

        return result;
    }

    //根据指定条件更新表记录
    public int update(UserInfo userInfo, String condition) {

        ContentValues cv = new ContentValues();
        cv.put("name", userInfo.name);
        cv.put("age", userInfo.age);

        return sdb.update(TABLE_NAME, cv, condition, null);
    }

}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:20,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li><li style="color: rgb(153, 153, 153);">70</li><li style="color: rgb(153, 153, 153);">71</li><li style="color: rgb(153, 153, 153);">72</li><li style="color: rgb(153, 153, 153);">73</li><li style="color: rgb(153, 153, 153);">74</li><li style="color: rgb(153, 153, 153);">75</li><li style="color: rgb(153, 153, 153);">76</li><li style="color: rgb(153, 153, 153);">77</li><li style="color: rgb(153, 153, 153);">78</li><li style="color: rgb(153, 153, 153);">79</li><li style="color: rgb(153, 153, 153);">80</li><li style="color: rgb(153, 153, 153);">81</li><li style="color: rgb(153, 153, 153);">82</li><li style="color: rgb(153, 153, 153);">83</li><li style="color: rgb(153, 153, 153);">84</li><li style="color: rgb(153, 153, 153);">85</li><li style="color: rgb(153, 153, 153);">86</li><li style="color: rgb(153, 153, 153);">87</li><li style="color: rgb(153, 153, 153);">88</li><li style="color: rgb(153, 153, 153);">89</li><li style="color: rgb(153, 153, 153);">90</li><li style="color: rgb(153, 153, 153);">91</li><li style="color: rgb(153, 153, 153);">92</li><li style="color: rgb(153, 153, 153);">93</li><li style="color: rgb(153, 153, 153);">94</li><li style="color: rgb(153, 153, 153);">95</li><li style="color: rgb(153, 153, 153);">96</li><li style="color: rgb(153, 153, 153);">97</li><li style="color: rgb(153, 153, 153);">98</li><li style="color: rgb(153, 153, 153);">99</li><li style="color: rgb(153, 153, 153);">100</li><li style="color: rgb(153, 153, 153);">101</li><li style="color: rgb(153, 153, 153);">102</li><li style="color: rgb(153, 153, 153);">103</li><li style="color: rgb(153, 153, 153);">104</li><li style="color: rgb(153, 153, 153);">105</li><li style="color: rgb(153, 153, 153);">106</li><li style="color: rgb(153, 153, 153);">107</li><li style="color: rgb(153, 153, 153);">108</li><li style="color: rgb(153, 153, 153);">109</li><li style="color: rgb(153, 153, 153);">110</li><li style="color: rgb(153, 153, 153);">111</li><li style="color: rgb(153, 153, 153);">112</li><li style="color: rgb(153, 153, 153);">113</li><li style="color: rgb(153, 153, 153);">114</li><li style="color: rgb(153, 153, 153);">115</li><li style="color: rgb(153, 153, 153);">116</li><li style="color: rgb(153, 153, 153);">117</li><li style="color: rgb(153, 153, 153);">118</li><li style="color: rgb(153, 153, 153);">119</li><li style="color: rgb(153, 153, 153);">120</li><li style="color: rgb(153, 153, 153);">121</li><li style="color: rgb(153, 153, 153);">122</li><li style="color: rgb(153, 153, 153);">123</li><li style="color: rgb(153, 153, 153);">124</li><li style="color: rgb(153, 153, 153);">125</li><li style="color: rgb(153, 153, 153);">126</li><li style="color: rgb(153, 153, 153);">127</li><li style="color: rgb(153, 153, 153);">128</li><li style="color: rgb(153, 153, 153);">129</li><li style="color: rgb(153, 153, 153);">130</li><li style="color: rgb(153, 153, 153);">131</li><li style="color: rgb(153, 153, 153);">132</li><li style="color: rgb(153, 153, 153);">133</li><li style="color: rgb(153, 153, 153);">134</li><li style="color: rgb(153, 153, 153);">135</li><li style="color: rgb(153, 153, 153);">136</li><li style="color: rgb(153, 153, 153);">137</li><li style="color: rgb(153, 153, 153);">138</li><li style="color: rgb(153, 153, 153);">139</li><li style="color: rgb(153, 153, 153);">140</li><li style="color: rgb(153, 153, 153);">141</li><li style="color: rgb(153, 153, 153);">142</li><li style="color: rgb(153, 153, 153);">143</li><li style="color: rgb(153, 153, 153);">144</li><li style="color: rgb(153, 153, 153);">145</li><li style="color: rgb(153, 153, 153);">146</li><li style="color: rgb(153, 153, 153);">147</li><li style="color: rgb(153, 153, 153);">148</li><li style="color: rgb(153, 153, 153);">149</li><li style="color: rgb(153, 153, 153);">150</li><li style="color: rgb(153, 153, 153);">151</li><li style="color: rgb(153, 153, 153);">152</li><li style="color: rgb(153, 153, 153);">153</li><li style="color: rgb(153, 153, 153);">154</li><li style="color: rgb(153, 153, 153);">155</li><li style="color: rgb(153, 153, 153);">156</li><li style="color: rgb(153, 153, 153);">157</li><li style="color: rgb(153, 153, 153);">158</li><li style="color: rgb(153, 153, 153);">159</li><li style="color: rgb(153, 153, 153);">160</li><li style="color: rgb(153, 153, 153);">161</li><li style="color: rgb(153, 153, 153);">162</li><li style="color: rgb(153, 153, 153);">163</li><li style="color: rgb(153, 153, 153);">164</li><li style="color: rgb(153, 153, 153);">165</li><li style="color: rgb(153, 153, 153);">166</li><li style="color: rgb(153, 153, 153);">167</li><li style="color: rgb(153, 153, 153);">168</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase4_748"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（4）优化记住密码：</h6> 
<p>上面通过SharedPreferences存储密码的方式还是存在一定的局限性，该方式只能记住一个用户的登录信息，当下一个用户登录后，上一个用户的信息将会被覆盖。正确的记住密码功能应该是输入手机号自动补充密码，因此，可以考虑使用数据库来进行存储。</p> 
<p>主要的改造如下：</p> 
<ol><li>声明一个数据库的helper对象，在Activity的OnResume方法中获取数据库连接，在OnPause方法中关闭数据库连接。</li></ol> 
<pre data-index="21" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">private UserDBHelper helper;

@Override
protected void onResume() {
    super.onResume();
    //获取数据库帮助器实例 (此处是单例，所以不怕重复获取)
    helper = UserDBHelper.getInstance(this, 1);
    //恢复页面时则获取连接
    helper.openWriteLink();
}

@Override
protected void onPause() {
    super.onPause();
    //暂停页面时就断开连接
    helper.closeLink();
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:21,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li></ul></pre> 
<ol start="2"><li>登录成功后，如果用户勾选了记住密码功能，则保存到数据库。也就是在loginSuccess方法中添加如下：</li></ol> 
<pre data-index="22" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">if (isRemember) {
    UserInfo info = new UserInfo(); // 创建一个用户信息对象
    info.phone = et_phone.getText().toString();
    info.password = et_password.getText().toString();
    info.update_time = DateUtil.getNowDateTime("yyyy-MM-dd HH:mm:ss");
    mHelper.insert(info); // 往用户数据库添加登录成功的用户信息
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:22,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li></ul></pre> 
<ol start="3"><li>用户进行登录时，根据输入手机号自动查找密码：</li></ol> 
<pre data-index="23" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">// 根据手机号码查询指定记录
public UserInfo queryByPhone(String phone) {
    UserInfo info = null;
    List&lt;UserInfo&gt; infoList = query(String.format("phone='%s'", phone));
    if (infoList.size() &gt; 0) { // 存在该号码的登录信息
    info = infoList.get(0);
    }
    return info;
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:23,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3__811"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>3. 存储卡</h5> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_813"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）私有空间和公有空间</h6> 
<p>为了更规范地管理手机存储空间，<strong>Android从7.0开始将存储卡划分为私有存储和公共存储两大部分</strong>，也就是分区存储方式，系统给每个App都分配了默认的私有存储空间。<strong>App在私有空间上读写文件无须任何授权，但是若想在公共空间读写文件，则要在AndroidManifest.xml里面添加下述的权限配置。</strong></p> 
<pre data-index="24" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">&lt;!-- 存储卡读写 --&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/&gt;
&lt;uses-permission android:name="android.permission.READ_EXTERNAL_STORAG"/&gt;



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:24,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre> 
<p>但是即使App声明了完整的存储卡操作权限，系统仍然默认禁止该App访问公共空间。打开手机的系统设置界面，进入到具体应用的管理页面，会发现该应用的存储访问权限被禁止了。</p> 
<p>既然存储卡分为公共空间和私有空间两部分，它们的空间路径获取也就有所不同。若想获取公共空间的存储路径，调用的是Environment.getExternalStoragePublicDirectory方法；若想获取应用私有空间的存储路径，调用的是getExternalFilesDir方法。</p> 
<pre data-index="25" class="new-version set-code-height prettyprint set-code-show" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;"> //获取系统的公共存储路径
String publicPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();

//获取系统的私有存储路径
String privatePath = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString();

boolean isLegacy = true;
if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q){
    //Android10的存储空间默认采用分区方式，这里是判断是使用传统方式还是分区方式
    isLegacy = Environment.isExternalStorageLegacy();
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:25,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2_847"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）在存储卡上读写文件</h6> 
<p>文本文件的读写借助IO流 FileOutputStream（写文件）和 FileInputStream（读文件）</p> 
<pre data-index="26" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">// 把字符串保存到指定路径的文本文件
public static void saveText(String path, String txt) {
    // 根据指定的文件路径构建文件输出流对象
    try (FileOutputStream fos = new FileOutputStream(path)) {
   		fos.write(txt.getBytes()); // 把字符串写入文件输出流
    } catch (Exception e) {
    	e.printStackTrace();
    }
}
// 从指定路径的文本文件中读取内容字符串
public static String openText(String path) {
    String readStr = "";
    // 根据指定的文件路径构建文件输入流对象
    try (FileInputStream fis = new FileInputStream(path)) {
        byte[] b = new byte[fis.available()];
        fis.read(b); // 从文件输入流读取字节数组
        readStr = new String(b); // 把字节数组转换为字符串
    } catch (Exception e) {
    	e.printStackTrace();
    }
    return readStr; // 返回文本文件中的文本字符串
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:26,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3__879"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（3）在存储卡上读写 图片文件</h6> 
<p>文本文件可以转化为对字符串的读写，而图像的读写就需要借助专门的位图工具Bitmap处理。不同图像来源获取Bitmap的方式不同，有三种：</p> 
<ol><li>从指定资源文件中获取：decodeResource，例如从资源文件img.png获取位图对象：</li></ol> 
<pre data-index="27" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.img);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:27,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
<ol start="2"><li>从指定路径下获取：decodeFile，但是要注意从Android10开始，该方法只能获取私有空间下的图片，公共空间下获取不了。</li></ol> 
<pre data-index="28" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">Bitmap bitmap = BitmapFactory.decodeFile("C:\\Users\\OYMN\\Pictures\\onepunch.jpg");



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:28,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li></ul></pre> 
<ol start="3"><li>从指定的输入流中获取，比如使用IO流打开图片文件，然后作为参数传入decodeStream：</li></ol> 
<pre data-index="29" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public static Bitmap openImage(String path) {
    Bitmap bitmap = null; // 声明一个位图对象
    // 根据指定的文件路径构建文件输入流对象
    try (FileInputStream fis = new FileInputStream(path)) {
    	bitmap = BitmapFactory.decodeStream(fis); // 从文件输入流中解码位图数据
    } catch (Exception e) {
    	e.printStackTrace();
    }
    return bitmap; // 返回图片文件中的位图数据
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:29,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li></ul></pre> 
<p>获取到图片之后就可以通过ImageView的setImageBitmap进行设置了。</p> 
<p>有多种读取图片的方式，但是写图片只有一种方式。通过Bitmap的compress方法将位图数据压缩到文件输出流：</p> 
<pre data-index="30" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public static void saveImage(String path, Bitmap bitmap){
    //根据文件路径构建文件输出流
    try(FileOutputStream fos = new FileOutputStream()){
        //将位图数据压缩到文件输出流
        bitmap.compress(Bitmap.CompressFormat.JPEG, 80, fos);
    }catch(Exception e){
        e.printStackTrace();
    }
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:30,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li></ul></pre> 
<p>以下演示一下完整的文件读写操作：</p> 
<pre data-index="31" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">// 获取当前App的私有下载目录
String path = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString() +
"/";
// 从指定的资源文件中获取位图对象
Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.huawei);
String file_path = path + DateUtil.getNowDateTime("") + ".jpeg";
FileUtil.saveImage(file_path, bitmap); // 把位图对象保存为图片文件
tv_path.setText("图片文件的保存路径为：\n" + file_path);



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:31,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li></ul></pre> 
<pre data-index="32" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">// 获取当前App的私有下载目录
mPath = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString() + "/";
// 获得指定目录下面的所有图片文件
mFilelist = FileUtil.getFileList(mPath, new String[]{".jpeg"});
if (mFilelist.size() &gt; 0) {
// 打开并显示选中的图片文件内容
String file_path = mFilelist.get(0).getAbsolutePath();
tv_content.setText("找到最新的图片文件，路径为"+file_path);
// 显示存储卡图片文件的第一种方式：直接调用setImageURI方法
//iv_content.setImageURI(Uri.parse(file_path)); // 设置图像视图的路径对象
// 第二种方式：先调用BitmapFactory.decodeFile获得位图，再调用setImageBitmap方法
//Bitmap bitmap = BitmapFactory.decodeFile(file_path);
//iv_content.setImageBitmap(bitmap); // 设置图像视图的位图对象
// 第三种方式：先调用FileUtil.openImage获得位图，再调用setImageBitmap方法
Bitmap bitmap = FileUtil.openImage(file_path);
iv_content.setImageBitmap(bitmap); // 设置图像视图的位图对象



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:32,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase4_Application_975"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>4. 应用组件Application</h5> 
<p>Application是Android的一大组件，在App运行期间只有一个Application对象贯穿整个应用的生命周期。因此，Application适合保存全局变量，主要是以下三类数据：</p> 
<ul><li> <p>会频繁读取的信息：如用户名，手机号码等</p> </li><li> <p>不方便通过intent传递的数据，如位图对象，非字符串的集合对象等。</p> </li><li> <p>容易因频繁分配内存而导致内存泄漏的对象，如Handler处理器实例等。</p> <p><img src="https://i-blog.csdnimg.cn/blog_migrate/9555cfd64104670948e9b05c52ac0899.png" alt="image-20230115170457698"></p> </li></ul> 
<p>通过Application实现对全局内存的读写：</p> 
<ol><li>先继承Application，并获取唯一实例：</li></ol> 
<pre data-index="33" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class MyApplication extends Application {

    private static MyApplication myApplication;   //Application唯一实例

    public Map&lt;String, String&gt; map = new HashMap&lt;&gt;();   //当作全局变量，用来存储数据

    public static MyApplication getInstance(){
        return myApplication;
    }

    @Override
    public void onCreate() {
        super.onCreate();

        // 在打开应用时对静态的应用实例赋值
        myApplication = this;
    }
}




</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-view="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:33,&quot;ab&quot;:&quot;exp1&quot;}}" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:33,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li></ul></pre> 
<ol start="2"><li>在AndroidManifest.xml 通过name属性添加该Application</li></ol> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/9c7c2049776995f8a7f389249568946f.png" alt="image-20230117121213401"></p> 
<ol start="3"><li>接下来就可以通过该Application在整个App中存取数据了：</li></ol> 
<p>如在MainActivity6存储数据：</p> 
<pre data-index="34" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main6);

    //存储数据
    MyApplication myApplication = MyApplication.getInstance();
    myApplication.map.put("myKey", "myValue");

    //跳转到MainActivity5
    View bt5 = findViewById(R.id.bt5);
    bt5.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            Intent intent = new Intent(MainActivity6.this, MainActivity5.class);
            startActivity(intent);
        }
    });

}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:34,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li></ul></pre> 
<p>在MainActivity5中获取数据：</p> 
<pre data-index="35" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main5);

    TextView tv = findViewById(R.id.tv);
    tv.setText(MyApplication.getInstance().map.get("myKey"));  //成功获取到数据
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:35,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase5__1067"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>5. 实战：购物车</h5> 
<h4><a name="t4"></a><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase_1069"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>五、内容共享</h4> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1__1071"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>1. 在应用之间共享数据</h5> 
<p>接下来将介绍Android的四大组件之一ContentProvider，通过ContentProvider封装内部数据的外部访问接口，实现不同应用能够互相传输数据。</p> 
<p>和ContentProvider搭配使用的还有：ContentResolver（内容解析器），ContentObserver（内容观察器）。</p> 
<p>上面提到的SQLite可以操作自身的数据库，而ContentProvider则是作为中间接口，通过SQLiteOpenHelper和SQLiteDatabase间接操控数据库，实现为其他应用提供数据的功能。</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/cce95ae4396b5bcc785e9670febc3e73.png" alt="image-20230119194835570"></p> 
<p>使用举例如下：</p> 
<ol><li> <p>创建一个UserInfoProvider，用来提供用户信息给外界应用</p> <p>在弹出的右键菜单中依次选择New→Other→Content Provider</p> <p>此时会自动修改两处地方：</p> <p>（1）一是在AndroidManifest.xml中添加该Provider的配置信息：</p> <p><img src="https://i-blog.csdnimg.cn/blog_migrate/48167a666eb77a6a062c351003d6dea2.png" alt="image-20230118224755856"></p> <p>（2）二是创建的这个Provider会继承ContentProvider，并重写了一些方法。</p> </li></ol> 
<p><span class="words-blog hl-git-1" data-report-view="{&quot;spm&quot;:&quot;1001.2101.3001.10283&quot;,&quot;extra&quot;:&quot;{\&quot;words\&quot;:\&quot;Server\&quot;}&quot;}" data-tit="Server" data-pretit="server">Server</span>端代码：</p> 
<pre data-index="36" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class UserInfoProvider extends ContentProvider {

    //这里是上面实现的dbHelper，用来操作本地数据库
    private UserDBHelper userDBHelper;

    //初始化
    @Override
    public boolean onCreate() {
        //初始化 dbHelper
        userDBHelper = UserDBHelper.getInstance(getContext());

        return true;
    }

    //插入
    //uri格式：content://com.example.secondandroidapp.UserInfoProvider/user
    @Override
    public Uri insert(Uri uri, ContentValues values) {
        //使用sqlite插入数据
        SQLiteDatabase db = userDBHelper.getWritableDatabase();
        db.insert(UserDBHelper.TABLE_NAME, null, values);

        return uri;
    }

    //查询
    @Override
    public Cursor query(Uri uri, String[] projection, String selection,
                        String[] selectionArgs, String sortOrder) {

        SQLiteDatabase db = userDBHelper.getReadableDatabase();
        return db.query(UserDBHelper.TABLE_NAME, projection, selection, selectionArgs, null, null, null);
    }
    
    //删除
	@Override
    public int delete(Uri uri, String selection, String[] selectionArgs) {
        int count = 0;
        switch (uriMatcher.match(uri)) {
            //这种是uri不带参数："content://com.example.secondandroidapp.UserInfoProvider/user"
            case USER:
                // 获取SQLite数据库的写连接
                SQLiteDatabase db = userDBHelper.getWritableDatabase();
                // 执行SQLite的删除操作，并返回删除记录的数目
                count = db.delete(UserDBHelper.TABLE_NAME, selection,
                        selectionArgs);
                db.close();
                break;
            //这种是uri带参数："content://com.example.secondandroidapp.UserInfoProvider/user/2"
            case USERS:
                String id = uri.getLastPathSegment();
                SQLiteDatabase db2 = userDBHelper.getWritableDatabase();
                count = db2.delete(UserDBHelper.TABLE_NAME, "id = ?", new String[]{id});
                db2.close();
                break;
        }
        return count;
    }

    @Override
    public String getType(Uri uri) {
        // TODO: Implement this to handle requests for the MIME type of the data
        // at the given URI.
        throw new UnsupportedOperationException("Not yet implemented");
    }

    @Override
    public int update(Uri uri, ContentValues values, String selection,
                      String[] selectionArgs) {
        // TODO: Implement this to handle requests to update one or more rows.
        throw new UnsupportedOperationException("Not yet implemented");
    }
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-view="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:36,&quot;ab&quot;:&quot;exp1&quot;}}" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:36,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li><li style="color: rgb(153, 153, 153);">70</li><li style="color: rgb(153, 153, 153);">71</li><li style="color: rgb(153, 153, 153);">72</li><li style="color: rgb(153, 153, 153);">73</li><li style="color: rgb(153, 153, 153);">74</li><li style="color: rgb(153, 153, 153);">75</li><li style="color: rgb(153, 153, 153);">76</li></ul></pre> 
<ol start="2"><li> <p>利用ContentProvider只实现服务端App的数据封装，如果客户端App想访问对方的内部数据，就要通过内容解析器ContentResolver访问。</p> <p><img src="https://i-blog.csdnimg.cn/blog_migrate/137fbbee345c5a09bb44b30e91c31d6e.png" alt="image-20230119194953733"></p> </li></ol> 
<p>ContentProvider的Uri结构如下：<code>content://authority/data_path/id</code></p> 
<p>Client的代码如下：</p> 
<pre data-index="37" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class MainActivity7 extends AppCompatActivity {

    private static Uri ContentUri = Uri.parse("content://com.example.secondandroidapp.UserInfoProvider/user");

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main7);

        Button insertButton = findViewById(R.id.insertButton);
        insertButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                ContentValues values = new ContentValues();
                values.put("name", "陈鸿荣");
                values.put("age", "20");
                //获取到ContentResolver之后调用插入方法进行插入
                getContentResolver().insert(ContentUri, values);
            }
        });

        Button deleteButton = findViewById(R.id.deleteButton);
        deleteButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                // content://com.example.secondandroidapp.UserInfoProvider/user/2
                Uri uri = ContentUris.withAppendedId(ContentUri, 2);
                int count = getContentResolver().delete(uri, null, null);
            }
        });
    }
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:37,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li></ul></pre> 
<p>出于安全考虑，Android11需要事先声明需要访问的其他应用：</p> 
<p>在AndroidManifest.xml中添加如下：</p> 
<pre data-index="38" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">&lt;queries&gt;
    &lt;!--服务端应用包名 --&gt;
    &lt;package android:name="com.example.secondandroidapp"/&gt;
    
    &lt;!--或者直接指定authorities--&gt;
    &lt;!-- &lt;provider android:authorities="com.example.secondandroidapp.UserInfoProvider"/&gt;   --&gt;
&lt;/queries&gt;



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:38,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2__1241"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>2. 使用内容组件获取通讯信息</h5> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_1243"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）运行时动态申请权限</h6> 
<p>在上面讲公共存储空间与私有存储空间提到，App若想访问存储卡的公共空间，就要在AndroidManifest.xml里面添加下述的权限配置。</p> 
<pre data-index="39" class="new-version set-code-show prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">&lt;!-- 存储卡读写 --&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/&gt;
&lt;uses-permission android:name="android.permission.READ_EXTERNAL_STORAG" /&gt;



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:39,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre> 
<p>然而即使App声明了完整的存储卡操作权限，从Android 7.0开始，系统仍然默认禁止该App访问公共空间，必须到设置界面手动开启应用的存储卡权限才行。尽管此举是为用户隐私着想，可是人家咋知道要手工开权限呢？就算用户知道，去设置界面找到权限开关也颇费周折。为此Android支持在Java代码中处理权限，处理过程分为3个步骤：</p> 
<ol><li> <p>检查App是否开启了指定权限：</p> <p>调用ContextCompat的checkSelfPermission方法</p> </li><li> <p>请求系统弹窗，以便用户选择是否开启权限：</p> <p>调用ActivityCompat的requestPermissions方法，即可命令系统自动弹出权限申请窗口。</p> </li><li> <p>判断用户的权限选择结果，是开启还是拒绝：</p> <p>重写活动页面的权限请求回调方法onRequestPermissionsResult，在该方法内部处理用户的权限选择结果</p> </li></ol> 
<p>动态申请权限有两种方式：饿汉式 和 懒汉式。</p> 
<p>接下来通过获取通讯权限和短信权限来进行举例说明：</p> 
<p>首先是懒汉式：当需要某种权限的时候再去申请</p> 
<pre data-index="40" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class PermissionUtil {

    //检查权限，返回true表示完全启用权限，返回false则表示为完全启用所有权限
    public static boolean checkPermission(Activity activity, String[] permissions, int requestCode){

        //Android6.0之后采取动态权限管理
        if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.M){
            int check = PackageManager.PERMISSION_GRANTED;  // 0

            for (String permission : permissions) {
                check = ContextCompat.checkSelfPermission(activity, permission);
                if(check != PackageManager.PERMISSION_GRANTED){
                    break;
                }
            }
            //如果未开启该权限，则请求系统弹窗，好让用户选择是否开启权限
            if(check != PackageManager.PERMISSION_GRANTED){
                //请求权限
                ActivityCompat.requestPermissions(activity, permissions, requestCode);
                return false;
            }

            return true;
        }

        return false;
    }

    //检查权限数组，返回true表示都已经授权
    public static boolean checkGrant(int[] grantResults) {

        if(grantResults != null){
            for (int grant : grantResults) {
                if(grant != PackageManager.PERMISSION_GRANTED){
                    return false;
                }
            }
            return true;
        }

        return false;
    }
}




</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:40,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li></ul></pre> 
<p>通过两个按钮模拟分别获取权限：</p> 
<pre data-index="41" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class PermissionLazyActivity extends AppCompatActivity {

    //通讯录的读写权限
    private static final String[] PERMISSION_CONTACT = {
            Manifest.permission.READ_CONTACTS,
            Manifest.permission.WRITE_CONTACTS
    };

    //短信的读写权限
    private static final String[] PERMISSION_SMS = {
            Manifest.permission.SEND_SMS,
            Manifest.permission.RECEIVE_SMS
    };

    private static final int REQUEST_CODE_CONTACTS = 1;
    private static final int REQUEST_CODE_SMS = 2;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_permission_lazy);

        //获取通讯录权限
        findViewById(R.id.btn_contact).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                PermissionUtil.checkPermission(PermissionLazyActivity.this, PERMISSION_CONTACT, REQUEST_CODE_CONTACTS);
            }
        });

        //获取短信权限
        findViewById(R.id.btn_sms).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                PermissionUtil.checkPermission(PermissionLazyActivity.this, PERMISSION_SMS, REQUEST_CODE_SMS);
            }
        });
    }

    // 用户选择权限结果后会调用该回调方法
    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);

        switch (requestCode){
            case REQUEST_CODE_CONTACTS:
                if(PermissionUtil.checkGrant(grantResults)){
                    Log.d("hhh", "通讯录获取成功");
                }else{
                    Log.d("hhh", "通讯录获取失败");
                    //跳转到设置界面
                    jumpToSettings();
                }
                break;
            case REQUEST_CODE_SMS:
                if(PermissionUtil.checkGrant(grantResults)){
                    Log.d("hhh", "短信权限获取成功");
                }else{
                    Log.d("hhh", "短信权限获取失败");
                    //跳转到设置界面
                    jumpToSettings();
                }
                break;
        }
    }

    //跳转到设置界面
    private void jumpToSettings(){
        Intent intent = new Intent();
        intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);
        intent.setData(Uri.fromParts("package", getPackageName(), null));
        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent);
    }
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:41,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt" data-report-view="{&quot;spm&quot;:&quot;1001.2101.3001.7365&quot;}"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li><li style="color: rgb(153, 153, 153);">70</li><li style="color: rgb(153, 153, 153);">71</li><li style="color: rgb(153, 153, 153);">72</li><li style="color: rgb(153, 153, 153);">73</li><li style="color: rgb(153, 153, 153);">74</li><li style="color: rgb(153, 153, 153);">75</li><li style="color: rgb(153, 153, 153);">76</li><li style="color: rgb(153, 153, 153);">77</li><li style="color: rgb(153, 153, 153);">78</li></ul></pre> 
<p>另外还需要在AndroidManifest.xml中配置：（在低版本中只需要配置这些信息即可，高版本就需要上面的动态申请权限）</p> 
<pre data-index="42" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">&lt;!--    开启通讯录权限--&gt;
    &lt;uses-permission android:name="android.permission.READ_CONTACTS"/&gt;
    &lt;uses-permission android:name="android.permission.WRITE_CONTACTS"/&gt;

&lt;!--    开启短信收发权限--&gt;
    &lt;uses-permission android:name="android.permission.SEND_SMS"/&gt;
    &lt;uses-permission android:name="android.permission.RECEIVE_SMS"/&gt;



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:42,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li></ul></pre> 
<p>效果如下：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/aeb5c2fe91d7dca43eada76e958f0d50.png" alt="image-20230120224940526"></p> 
<p>懒汉式：在页面打开之后就一次性需要用户获取所有权限。</p> 
<pre data-index="43" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class PermissionHungryActivity extends AppCompatActivity {

    //所需全部读写权限
    private static final String[] PERMISSIONS = {
            Manifest.permission.READ_CONTACTS,
            Manifest.permission.WRITE_CONTACTS,
            Manifest.permission.SEND_SMS,
            Manifest.permission.RECEIVE_SMS
    };

   	//
    private static final int REQUEST_CODE_ALL = 0;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_permission_lazy);

        //检查是否拥有所有所需权限
        PermissionUtil.checkPermission(this, PERMISSIONS, REQUEST_CODE_ALL);
    }

    // 用户选择权限结果后会调用该回调方法
    @Override
    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);

        switch (requestCode){
            case REQUEST_CODE_ALL:
                if(PermissionUtil.checkGrant(grantResults)){
                    Log.d("hhh", "所有权限获取成功");
                }else{
                    //部分权限获取失败
                    for (int i = 0; i &lt; grantResults.length; i++) {
                        if(grantResults[i] != PackageManager.PERMISSION_GRANTED){
                            //判断是什么权限获取失败
                            switch (permissions[i]){
                                case Manifest.permission.WRITE_CONTACTS:
                                case Manifest.permission.READ_CONTACTS:
                                    Log.d("hhh", "通讯录获取失败");
                                    jumpToSettings();
                                    break;
                                case Manifest.permission.SEND_SMS:
                                case Manifest.permission.RECEIVE_SMS:
                                    Log.d("hhh", "短信权限获取失败");
                                    jumpToSettings();
                                    break;
                            }
                        }
                    }
                }
                break;
        }
    }

    //跳转到设置界面
    private void jumpToSettings(){
        Intent intent = new Intent();
        intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);
        intent.setData(Uri.fromParts("package", getPackageName(), null));
        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent);
    }
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:43,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li></ul></pre> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2ContentResolver_1501"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）使用ContentResolver读写联系人</h6> 
<p>手机中通讯录的主要表结构有：</p> 
<p><code>raw_contacts</code>表：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/1fcec7c271f8cec402b960391c02fd35.png" alt="image-20230122114023016"></p> 
<p>data表：记录了用户的通讯录所有数据，包括手机号，显示名称等，但是里面的mimetype_id表示不同的数据类型，这与表mimetypes表中的id相对应，raw_contact_id 与上面的 raw_contacts表中的 id 相对应。</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/8f2673c3640db14bfcd32ccb268cb940.png" alt="image-20230122114040243"></p> 
<p>mimetypes表：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/6391fd269ce31ff5b9974a3df8b39aa5.png" alt="image-20230122114056962"></p> 
<p>所以，插入步骤如下：</p> 
<ul><li>首先往raw_contacts表中插入一条数据得到id</li><li>接着由于一个联系人有姓名，电话号码，邮箱，因此需要分三次插入data表中，将raw_contact_id和上面得到的id进行关联</li></ul> 
<p>下面是往通讯录插入和查询联系人的代码：</p> 
<pre data-index="44" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class ContactActivity extends AppCompatActivity implements View.OnClickListener {

    private EditText et_contact_name;
    private EditText et_contact_phone;
    private EditText et_contact_email;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_contact);
        et_contact_name = findViewById(R.id.et_contact_name);
        et_contact_phone = findViewById(R.id.et_contact_phone);
        et_contact_email = findViewById(R.id.et_contact_email);
        findViewById(R.id.btn_add_contact).setOnClickListener(this);
        findViewById(R.id.btn_read_contact).setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {
        switch (v.getId()) {
            case R.id.btn_add_contact:
                // 创建一个联系人对象
                Contact contact = new Contact();
                contact.name = et_contact_name.getText().toString().trim();
                contact.phone = et_contact_phone.getText().toString().trim();
                contact.email = et_contact_email.getText().toString().trim();

                // 方式一，使用ContentResolver多次写入，每次一个字段
//                 addContacts(getContentResolver(), contact);

                // 方式二，批处理方式
                // 每一次操作都是一个 ContentProviderOperation，构建一个操作集合，然后一次性执行
                // 好处是，要么全部成功，要么全部失败，保证了事务的一致性
                addFullContacts(getContentResolver(), contact);

                Toast.makeText(this, "添加联系人成功！", Toast.LENGTH_SHORT).show();
                break;

            case R.id.btn_read_contact:
                readPhoneContacts(getContentResolver());
                break;
        }
    }

    //往通讯录添加一个联系人信息（姓名，号码，邮箱）
    private void addContacts(ContentResolver contentResolver, Contact contact) {
        //得到rawContentId
        ContentValues values = new ContentValues();
        //插入记录得到id
        Uri uri = contentResolver.insert(ContactsContract.RawContacts.CONTENT_URI, values);
        long rawContentId = ContentUris.parseId(uri);

        //插入名字
        ContentValues name = new ContentValues();
        //关联上面得到的联系人id
        name.put(ContactsContract.Contacts.Data.RAW_CONTACT_ID, rawContentId);
        //关联联系人姓名的类型
        name.put(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE);
        //关联联系人姓名
        name.put(ContactsContract.Data.DATA2, contact.name);
        contentResolver.insert(ContactsContract.Data.CONTENT_URI, name);

        //插入电话号码
        ContentValues phone = new ContentValues();
        //关联上面得到的联系人id
        phone.put(ContactsContract.Contacts.Data.RAW_CONTACT_ID, rawContentId);
        //关联联系人电话号码的类型
        phone.put(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE);
        //关联联系人电话号码
        phone.put(ContactsContract.Data.DATA1, contact.phone);
        //指定该号码是家庭号码还是工作号码 (家庭)
        phone.put(ContactsContract.Data.DATA2, ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE);
        contentResolver.insert(ContactsContract.Data.CONTENT_URI, phone);

        //插入邮箱
        ContentValues email = new ContentValues();
        //关联上面得到的联系人id
        email.put(ContactsContract.Contacts.Data.RAW_CONTACT_ID, rawContentId);
        //关联联系人邮箱的类型
        email.put(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE);
        //关联联系人邮箱
        email.put(ContactsContract.Data.DATA1, contact.email);
        //指定该号码是家庭邮箱还是工作邮箱
        email.put(ContactsContract.Data.DATA2, ContactsContract.CommonDataKinds.Phone.TYPE_WORK);
        contentResolver.insert(ContactsContract.Data.CONTENT_URI, email);
    }

    //事务操作，四个插入操作一次性提交
    private void addFullContacts(ContentResolver contentResolver, Contact contact) {
        //创建一个插入联系人主记录的内容操作器
        ContentProviderOperation op_main = ContentProviderOperation
                .newInsert(ContactsContract.RawContacts.CONTENT_URI)
                //没有实际意义，不加这个会报错（不加这个导致没有创建ContentValue，导致报错）
                .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null)
                .build();
        //创建一个插入联系人姓名记录的内容操作器
        ContentProviderOperation op_name = ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)
                //将第0个操作的id，即raw_contacts中的id作为data表中的raw_contact_id
                .withValueBackReference(ContactsContract.Contacts.Data.RAW_CONTACT_ID, 0)
                .withValue(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE)
                .withValue(ContactsContract.Data.DATA2, contact.name)
                .build();
        //创建一个插入联系人电话号码记录的内容操作器
        ContentProviderOperation op_phone = ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)
                //将第0个操作的id，即raw_contacts中的id作为data表中的raw_contact_id
                .withValueBackReference(ContactsContract.Contacts.Data.RAW_CONTACT_ID, 0)
                .withValue(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)
                .withValue(ContactsContract.Data.DATA1, contact.phone)
                .withValue(ContactsContract.Data.DATA2, ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE)
                .build();

        //创建一个插入联系人邮箱记录的内容操作器
        ContentProviderOperation op_email = ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)
                //将第0个操作的id，即raw_contacts中的id作为data表中的raw_contact_id
                .withValueBackReference(ContactsContract.Contacts.Data.RAW_CONTACT_ID, 0)
                .withValue(ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)
                .withValue(ContactsContract.Data.DATA1, contact.email)
                .withValue(ContactsContract.Data.DATA2, ContactsContract.CommonDataKinds.Phone.TYPE_WORK)
                .build();

        //全部放在集合中一次性提交
        ArrayList&lt;ContentProviderOperation&gt; operations = new ArrayList&lt;&gt;();
        operations.add(op_main);
        operations.add(op_name);
        operations.add(op_phone);
        operations.add(op_email);

        try {
            //批量提交四个操作
            contentResolver.applyBatch(ContactsContract.AUTHORITY, operations);
        } catch (OperationApplicationException e) {
            e.printStackTrace();
        } catch (RemoteException e) {
            e.printStackTrace();
        }
    }

    //读取联系人
    @SuppressLint("Range")
    private void readPhoneContacts(ContentResolver contentResolver) {
        //先查询raw_contacts表，再根据raw_contacts_id表 查询data表
        Cursor cursor = contentResolver.query(ContactsContract.RawContacts.CONTENT_URI, new String[]{ContactsContract.RawContacts._ID}, null, null, null);
        while(cursor.moveToNext()){
            int rawContactId = cursor.getInt(0);
            Uri uri = Uri.parse("content://com.android.contacts/contacts/" + rawContactId + "/data");
            Cursor dataCursor = contentResolver.query(uri, new String[]{ContactsContract.Contacts.Data.MIMETYPE, ContactsContract.Contacts.Data.DATA1, ContactsContract.Contacts.Data.DATA2}, null, null, null);
            Contact contact = new Contact();
            while (dataCursor.moveToNext()) {
                String data1 = dataCursor.getString(dataCursor.getColumnIndex(ContactsContract.Contacts.Data.DATA1));
                String mimeType = dataCursor.getString(dataCursor.getColumnIndex(ContactsContract.Contacts.Data.MIMETYPE));
                switch (mimeType) {
                    //是姓名
                    case ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE:
                        contact.name = data1;
                        break;

                    //邮箱
                    case ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE:
                        contact.email = data1;
                        break;

                    //手机
                    case ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE:
                        contact.phone = data1;
                        break;
                }
            }

            dataCursor.close();

            // RawContacts 表中出现的 _id，不一定在 Data 表中都会有对应记录
            if (contact.name != null) {
                Log.d("hhh", contact.toString());
            }
        }
        cursor.close();
    }

}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:44,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li><li style="color: rgb(153, 153, 153);">70</li><li style="color: rgb(153, 153, 153);">71</li><li style="color: rgb(153, 153, 153);">72</li><li style="color: rgb(153, 153, 153);">73</li><li style="color: rgb(153, 153, 153);">74</li><li style="color: rgb(153, 153, 153);">75</li><li style="color: rgb(153, 153, 153);">76</li><li style="color: rgb(153, 153, 153);">77</li><li style="color: rgb(153, 153, 153);">78</li><li style="color: rgb(153, 153, 153);">79</li><li style="color: rgb(153, 153, 153);">80</li><li style="color: rgb(153, 153, 153);">81</li><li style="color: rgb(153, 153, 153);">82</li><li style="color: rgb(153, 153, 153);">83</li><li style="color: rgb(153, 153, 153);">84</li><li style="color: rgb(153, 153, 153);">85</li><li style="color: rgb(153, 153, 153);">86</li><li style="color: rgb(153, 153, 153);">87</li><li style="color: rgb(153, 153, 153);">88</li><li style="color: rgb(153, 153, 153);">89</li><li style="color: rgb(153, 153, 153);">90</li><li style="color: rgb(153, 153, 153);">91</li><li style="color: rgb(153, 153, 153);">92</li><li style="color: rgb(153, 153, 153);">93</li><li style="color: rgb(153, 153, 153);">94</li><li style="color: rgb(153, 153, 153);">95</li><li style="color: rgb(153, 153, 153);">96</li><li style="color: rgb(153, 153, 153);">97</li><li style="color: rgb(153, 153, 153);">98</li><li style="color: rgb(153, 153, 153);">99</li><li style="color: rgb(153, 153, 153);">100</li><li style="color: rgb(153, 153, 153);">101</li><li style="color: rgb(153, 153, 153);">102</li><li style="color: rgb(153, 153, 153);">103</li><li style="color: rgb(153, 153, 153);">104</li><li style="color: rgb(153, 153, 153);">105</li><li style="color: rgb(153, 153, 153);">106</li><li style="color: rgb(153, 153, 153);">107</li><li style="color: rgb(153, 153, 153);">108</li><li style="color: rgb(153, 153, 153);">109</li><li style="color: rgb(153, 153, 153);">110</li><li style="color: rgb(153, 153, 153);">111</li><li style="color: rgb(153, 153, 153);">112</li><li style="color: rgb(153, 153, 153);">113</li><li style="color: rgb(153, 153, 153);">114</li><li style="color: rgb(153, 153, 153);">115</li><li style="color: rgb(153, 153, 153);">116</li><li style="color: rgb(153, 153, 153);">117</li><li style="color: rgb(153, 153, 153);">118</li><li style="color: rgb(153, 153, 153);">119</li><li style="color: rgb(153, 153, 153);">120</li><li style="color: rgb(153, 153, 153);">121</li><li style="color: rgb(153, 153, 153);">122</li><li style="color: rgb(153, 153, 153);">123</li><li style="color: rgb(153, 153, 153);">124</li><li style="color: rgb(153, 153, 153);">125</li><li style="color: rgb(153, 153, 153);">126</li><li style="color: rgb(153, 153, 153);">127</li><li style="color: rgb(153, 153, 153);">128</li><li style="color: rgb(153, 153, 153);">129</li><li style="color: rgb(153, 153, 153);">130</li><li style="color: rgb(153, 153, 153);">131</li><li style="color: rgb(153, 153, 153);">132</li><li style="color: rgb(153, 153, 153);">133</li><li style="color: rgb(153, 153, 153);">134</li><li style="color: rgb(153, 153, 153);">135</li><li style="color: rgb(153, 153, 153);">136</li><li style="color: rgb(153, 153, 153);">137</li><li style="color: rgb(153, 153, 153);">138</li><li style="color: rgb(153, 153, 153);">139</li><li style="color: rgb(153, 153, 153);">140</li><li style="color: rgb(153, 153, 153);">141</li><li style="color: rgb(153, 153, 153);">142</li><li style="color: rgb(153, 153, 153);">143</li><li style="color: rgb(153, 153, 153);">144</li><li style="color: rgb(153, 153, 153);">145</li><li style="color: rgb(153, 153, 153);">146</li><li style="color: rgb(153, 153, 153);">147</li><li style="color: rgb(153, 153, 153);">148</li><li style="color: rgb(153, 153, 153);">149</li><li style="color: rgb(153, 153, 153);">150</li><li style="color: rgb(153, 153, 153);">151</li><li style="color: rgb(153, 153, 153);">152</li><li style="color: rgb(153, 153, 153);">153</li><li style="color: rgb(153, 153, 153);">154</li><li style="color: rgb(153, 153, 153);">155</li><li style="color: rgb(153, 153, 153);">156</li><li style="color: rgb(153, 153, 153);">157</li><li style="color: rgb(153, 153, 153);">158</li><li style="color: rgb(153, 153, 153);">159</li><li style="color: rgb(153, 153, 153);">160</li><li style="color: rgb(153, 153, 153);">161</li><li style="color: rgb(153, 153, 153);">162</li><li style="color: rgb(153, 153, 153);">163</li><li style="color: rgb(153, 153, 153);">164</li><li style="color: rgb(153, 153, 153);">165</li><li style="color: rgb(153, 153, 153);">166</li><li style="color: rgb(153, 153, 153);">167</li><li style="color: rgb(153, 153, 153);">168</li><li style="color: rgb(153, 153, 153);">169</li><li style="color: rgb(153, 153, 153);">170</li><li style="color: rgb(153, 153, 153);">171</li><li style="color: rgb(153, 153, 153);">172</li><li style="color: rgb(153, 153, 153);">173</li><li style="color: rgb(153, 153, 153);">174</li><li style="color: rgb(153, 153, 153);">175</li><li style="color: rgb(153, 153, 153);">176</li><li style="color: rgb(153, 153, 153);">177</li><li style="color: rgb(153, 153, 153);">178</li><li style="color: rgb(153, 153, 153);">179</li><li style="color: rgb(153, 153, 153);">180</li><li style="color: rgb(153, 153, 153);">181</li><li style="color: rgb(153, 153, 153);">182</li></ul></pre> 
<p>页面如下：</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/2a716a0fb16d64ba9990418e3d8a962b.png" alt="image-20230126163716728"></p> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3ContentObserver_1713"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（3）使用ContentObserver监听短信</h6> 
<p>ContentResolver获取数据采用的是主动查询方式，有查询就有数据，没查询就没数据。ContentResolver能够实时获取新增的数据，最常见的业务场景是短信验证码。为了替用户省事，App通常会监控手机刚收到的短信验证码，并自动填写验证码输入框。这时就用到了内容观察器ContentObserver，事先给目标内容注册一个观察器，目标内容的数据一旦发生变化，就马上触发观察器的监听事件，从而执行开发者预先定义的代码。</p> 
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/508d6a6dfd634f8806840d60d64ab214.png" alt="image-20230126164316484"></p> 
<p>示例代码如下：（记得在Manifest.xml中开启权限和动态开启权限）</p> 
<pre data-index="45" class="new-version set-code-height set-code-hide prettyprint" name="code"><code class="has-numbering" onclick="mdcp.signin(event)" style="position: unset;">public class MonitorSmsActivity extends AppCompatActivity {

    private SmsGetObserver mObserver;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_monitor_sms);
        
        // 给指定Uri注册内容观察器，一旦发生数据变化，就触发观察器的onChange方法
        Uri uri = Uri.parse("content://sms");
        
        // notifyForDescendents：
        // false ：表示精确匹配，即只匹配该Uri，true ：表示可以同时匹配其派生的Uri
        mObserver = new SmsGetObserver(this);
        getContentResolver().registerContentObserver(uri, true, mObserver);
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        //取消注册
        getContentResolver().unregisterContentObserver(mObserver);
    }

    private static class SmsGetObserver extends ContentObserver {

        private final Context mContext;

        public SmsGetObserver(Context context) {
            super(new Handler(Looper.getMainLooper()));
            this.mContext = context;
        }

        //回调
        @SuppressLint("Range")
        @Override
        public void onChange(boolean selfChange, @Nullable Uri uri) {
            super.onChange(selfChange, uri);
            // onChange会多次调用，收到一条短信会调用两次onChange
            // mUri===content://sms/raw/20
            // mUri===content://sms/inbox/20
            // 安卓7.0以上系统，点击标记为已读，也会调用一次
            // mUri===content://sms
            // 收到一条短信都是uri后面都会有确定的一个数字，对应数据库的_id，比如上面的20
            if (uri == null) {
                return;
            }
            if (uri.toString().contains("content://sms/raw") ||
                    uri.toString().equals("content://sms")) {
                return;
            }

            // 通过内容解析器获取符合条件的结果集游标
            Cursor cursor = mContext.getContentResolver().query(uri, new String[]{"address", "body", "date"}, null, null, "date DESC");
            if (cursor.moveToNext()) {
                // 短信的发送号码
                String sender = cursor.getString(cursor.getColumnIndex("address"));
                // 短信内容
                String content = cursor.getString(cursor.getColumnIndex("body"));
                Log.d("ning", String.format("sender:%s,content:%s", sender, content));
            }
            cursor.close();
        }
    }
}



</code><div class="opt-box"><button class="btn-code-notes mdeditor" style="background-image:url(https://i-operation.csdnimg.cn/images/25e1eba3e6bc4df7ba20f2b6011fbe21.png);" data-report-click="{&quot;spm&quot;:&quot;3001.10436&quot;,&quot;dest&quot;:&quot;https://deepblog.net?utm_source=blog_code_block&amp;url=https%3A%2F%2Fblog.csdn.net%2FLibra1313%2Farticle%2Fdetails%2F149609789&quot;,&quot;extra&quot;:{&quot;index&quot;:45,&quot;ab&quot;:&quot;exp1&quot;}}">AI运行代码</button><div class="hljs-button signin active" data-title="登录复制" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.4334&quot;}" onclick="mdcp.signin(event)"></div></div><div class="hide-preCode-box"><span class="hide-preCode-bt"><img class="look-more-preCode contentImg-no-view" src="https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png" alt="" title=""></span></div><ul class="pre-numbering" style=""><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li></ul></pre> 
<h5><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3__1793"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>3. 在应用之间共享文件</h5> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase1_1795"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（1）使用相册图片发送彩信</h6> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase2FileProvider_1797"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（2）借助FileProvider发送彩信</h6> 
<h6><a id="httpsblogcsdnnetA1_3_9_7articledetails143989013spm1001201430015501httpsblogcsdnnetPython_0011articledetails132139320httpsblogcsdnnetOYMNCHRarticledetails128913579spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag11128913579nullnullnonecase3FileProvider_1799"></a><a href="https://blog.csdn.net/A1_3_9_7/article/details/143989013?spm=1001.2014.3001.5501"></a><a href="https://blog.csdn.net/Python_0011/article/details/132139320"></a><a href="https://blog.csdn.net/OYMNCHR/article/details/128913579?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-11-128913579-null-null.nonecase"></a>（3）借助FileProvider安装应用</h6> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/751a0f1b2a24f58a489ae94751c7e1c1.png" alt=""></p> 
<p><strong>黑客/网络安全学习包</strong></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/9bcee19268a6f5a1b46600b955ae2b66.png" alt=""></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/eaf0737584cdc3cebce91a9aafe3df90.png" alt=""></p> 
<p><strong>资料目录</strong></p> 
<ol><li> <p>成长路线图&amp;学习规划</p> </li><li> <p>配套视频教程</p> </li><li> <p>SRC&amp;黑客文籍</p> </li><li> <p>护网行动资料</p> </li><li> <p>黑客必读书单</p> </li><li> <p>面试题合集</p> </li></ol> 
<p><font color="red">因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取</font></p> 
<p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><a href="https://mp.weixin.qq.com/s/Z0QpzQFIqasJPfRNUb25dg" title="CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享" rel="nofollow">CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享</a></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p> 
<p>1.成长路线图&amp;学习规划</p> 
<p>要学习一门新的技术，作为新手一定要<strong>先学习成长路线图</strong>，<strong>方向不对，努力白费</strong>。</p> 
<p>对于从来没有接触过网络安全的同学，我们帮你准备了详细的学习成长路线图&amp;学习规划。可以说是最科学最系统的学习路线，大家跟着这个大的方向学习准没问题。</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/862a9749f83812b6349e5decc6555350.png" alt=""></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/acf39ca0bf5ea24d72639363df33eba4.png" alt=""><br> <font color="red">因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取</font></p> 
<p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><a href="https://mp.weixin.qq.com/s/Z0QpzQFIqasJPfRNUb25dg" title="CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享" rel="nofollow">CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享</a></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p> 
<p>2.视频教程</p> 
<p>很多朋友都不喜欢<strong>晦涩的文字</strong>，我也为大家准备了视频教程，其中一共有<strong>21个章节</strong>，每个章节都是<strong>当前板块的精华浓缩</strong>。</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/29673ac6bab93d161010f7245061518b.png" alt=""></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/b474b601738145e0a293e1915530de9e.png" alt=""><br> <font color="red">因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取</font></p> 
<p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><a href="https://mp.weixin.qq.com/s/Z0QpzQFIqasJPfRNUb25dg" title="CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享" rel="nofollow">CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享</a></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p> 
<p>3.SRC&amp;黑客文籍</p> 
<p>大家最喜欢也是最关心的<strong>SRC技术文籍&amp;黑客技术</strong>也有收录</p> 
<p><strong>SRC技术文籍：</strong></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/12583c7e827d2fab6b2b224ca59b0abb.png" alt=""></p> 
<p><strong>黑客资料由于是敏感资源，这里不能直接展示哦！</strong></p> 
<p>4.护网行动资料</p> 
<p>其中关于<strong>HW护网行动，也准备了对应的资料，这些内容可相当于比赛的金手指！</strong></p> 
<p>5.黑客必读书单</p> 
<p>**</p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/33539f7cee70f4110aeab42a95c5c2ed.jpeg" alt=""></p> 
<p>**</p> 
<p>6.面试题合集</p> 
<p>当你自学到这里，你就要开始<strong>思考找工作</strong>的事情了，而工作绕不开的就是<strong>真题和面试题。</strong></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/fb966ea191c95fccd236865a64d06a0d.png" alt=""></p> 
<p><strong>更多内容为防止和谐，可以扫描获取~</strong></p> 
<p><img src="https://img-blog.csdnimg.cn/img_convert/de34bdf226f283392e04fd4f8ac550da.png" alt=""></p> 
<p><font color="red">因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取</font></p> 
<p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><a href="https://mp.weixin.qq.com/s/Z0QpzQFIqasJPfRNUb25dg" title="CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享" rel="nofollow">CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享</a></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
                </div><div><div></div></div>
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-375c595788.css" rel="stylesheet">
                <link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-e504d6a974.css" rel="stylesheet">
        </div>
    </article>
    
  <script>
    $(function() {
      setTimeout(function () {
        var mathcodeList = document.querySelectorAll('.htmledit_views img.mathcode');
        if (mathcodeList.length > 0) {
          for (let i = 0; i < mathcodeList.length; i++) {
            if (mathcodeList[i].complete) {
              if (mathcodeList[i].naturalWidth === 0 || mathcodeList[i].naturalHeight === 0) {
                var alt = mathcodeList[i].alt;
                alt = '\\(' + alt + '\\)';
                var curSpan = $('<span class="img-codecogs"></span>');
                curSpan.text(alt);
                $(mathcodeList[i]).before(curSpan);
                $(mathcodeList[i]).remove();
              }
            } else {
              mathcodeList[i].onerror = function() {
                var alt = mathcodeList[i].alt;
                alt = '\\(' + alt + '\\)';
                var curSpan = $('<span class="img-codecogs"></span>');
                curSpan.text(alt);
                $(mathcodeList[i]).before(curSpan);
                $(mathcodeList[i]).remove();
              };
            }
          }
          MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        }
      }, 500)
    });
  </script>
</div>